<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>NLP.GenI.Builder</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_NLP-GenI-Builder.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">GenI-0.23.20130212: A natural language generator (specifically, an FB-LTAG surface realiser)</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">NLP.GenI.Builder</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The heavy lifting of GenI, the whole chart/agenda mechanism, can be
implemented in many ways.  To make it easier to write different
algorithms for GenI and compare them, we provide a single interface
for what we call Builders.
</p><p>This interface is then used called by the Geni module and by the
graphical interface.  Note that each builder has its own graphical
interface and that we do a similar thing in the graphical interface
code to make it possible to use these GUIs.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:TagDerivation">TagDerivation</a> = [<a href="NLP-GenI-Tag.html#t:DerivationStep">DerivationStep</a>]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Builder">Builder</a> st it = <a href="#v:Builder">Builder</a> {<ul class="subs"><li><a href="#v:init">init</a> :: <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; (st, <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a>)</li><li><a href="#v:step">step</a> :: <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li><a href="#v:stepAll">stepAll</a> :: <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li><a href="#v:finished">finished</a> :: st -&gt; <a href="NLP-GenI-Builder.html#t:GenStatus">GenStatus</a></li><li><a href="#v:unpack">unpack</a> :: st -&gt; [<a href="NLP-GenI-Builder.html#t:Output">Output</a>]</li><li><a href="#v:partial">partial</a> :: st -&gt; [<a href="NLP-GenI-Builder.html#t:Output">Output</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span>  <a href="#t:GenStatus">GenStatus</a> <ul class="subs"><li>= <a href="#v:Finished">Finished</a>  </li><li>| <a href="#v:Active">Active</a>  </li><li>| <a href="#v:Error">Error</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>  </li></ul></li><li class="src short"><a href="#v:lexicalSelection">lexicalSelection</a> :: <a href="NLP-GenI-Builder.html#t:TagDerivation">TagDerivation</a> -&gt; [<a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:FilterStatus">FilterStatus</a> a<ul class="subs"><li>= <a href="#v:Filtered">Filtered</a>  </li><li>| <a href="#v:NotFiltered">NotFiltered</a> a  </li></ul></li><li class="src short"><a href="#v:incrCounter">incrCounter</a> ::  <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:num_iterations">num_iterations</a>, <a href="#v:num_comparisons">num_comparisons</a>, <a href="#v:chart_size">chart_size</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:-62--45--45--62-">(&gt;--&gt;)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a> s =&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a</li><li class="src short"><span class="keyword">type</span> <a href="#t:SemBitMap">SemBitMap</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> (<a href="NLP-GenI-Semantics.html#t:Literal">Literal</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>) <a href="NLP-GenI-General.html#t:BitVector">BitVector</a></li><li class="src short"><a href="#v:defineSemanticBits">defineSemanticBits</a> :: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; <a href="NLP-GenI-Builder.html#t:SemBitMap">SemBitMap</a></li><li class="src short"><a href="#v:semToBitVector">semToBitVector</a> :: <a href="NLP-GenI-Builder.html#t:SemBitMap">SemBitMap</a> -&gt; <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; <a href="NLP-GenI-General.html#t:BitVector">BitVector</a></li><li class="src short"><a href="#v:bitVectorToSem">bitVectorToSem</a> :: <a href="NLP-GenI-Builder.html#t:SemBitMap">SemBitMap</a> -&gt; <a href="NLP-GenI-General.html#t:BitVector">BitVector</a> -&gt; <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:DispatchFilter">DispatchFilter</a> s a = a -&gt; s (<a href="NLP-GenI-Builder.html#t:FilterStatus">FilterStatus</a> a)</li><li class="src short"><a href="#v:condFilter">condFilter</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a> s =&gt; (a -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a</li><li class="src short"><a href="#v:defaultStepAll">defaultStepAll</a> ::  <a href="NLP-GenI-Builder.html#t:Builder">Builder</a> st it -&gt; <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:BuilderState">BuilderState</a> s a = <a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> s (<a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-State-Strict.html#t:State">State</a> <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a>) a</li><li class="src short"><span class="keyword">data</span>  <a href="#t:UninflectedDisjunction">UninflectedDisjunction</a>  = <a href="#v:UninflectedDisjunction">UninflectedDisjunction</a> [<a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>] (<a href="NLP-GenI-FeatureStructure.html#t:Flist">Flist</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>)</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Input">Input</a>  = <a href="#v:Input">Input</a> {<ul class="subs"><li><a href="#v:inSemInput">inSemInput</a> :: <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a></li><li><a href="#v:inLex">inLex</a> :: [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</li><li><a href="#v:inCands">inCands</a> :: [(<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>, <a href="NLP-GenI-General.html#t:BitVector">BitVector</a>)]</li></ul>}</li><li class="src short"><a href="#v:unlessEmptySem">unlessEmptySem</a> ::  <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; a -&gt; a</li><li class="src short"><a href="#v:initStats">initStats</a> :: [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Output">Output</a> = (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a>, <a href="NLP-GenI-Morphology-Types.html#t:LemmaPlusSentence">LemmaPlusSentence</a>, <a href="NLP-GenI-Builder.html#t:TagDerivation">TagDerivation</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:SentenceAut">SentenceAut</a> = <a href="NLP-GenI-Automaton.html#t:NFA">NFA</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> <a href="NLP-GenI-Morphology-Types.html#t:LemmaPlus">LemmaPlus</a></li><li class="src short"><a href="#v:run">run</a> ::  <a href="NLP-GenI-Builder.html#t:Builder">Builder</a> st it -&gt; <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; (st, <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a>)</li><li class="src short"><a href="#v:queryCounter">queryCounter</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a> -&gt; <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:defaultMetricNames">defaultMetricNames</a> :: [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a>]</li><li class="src short"><a href="#v:preInit">preInit</a> :: <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; (<a href="NLP-GenI-Builder.html#t:Input">Input</a>, <a href="NLP-GenI-Polarity.html#t:PolResult">PolResult</a>)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:TagDerivation" class="def">TagDerivation</a> = [<a href="NLP-GenI-Tag.html#t:DerivationStep">DerivationStep</a>]</p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Builder" class="def">Builder</a> st it </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Builder" class="def">Builder</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:init" class="def">init</a> :: <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; (st, <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a>)</dt><dd class="doc"><p>initialise the machine from the semantics and lexical selection
</p></dd><dt class="src"><a name="v:step" class="def">step</a> :: <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></dt><dd class="doc"><p>run a realisation step
</p></dd><dt class="src"><a name="v:stepAll" class="def">stepAll</a> :: <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></dt><dd class="doc"><p>run all realisations steps until completion
</p></dd><dt class="src"><a name="v:finished" class="def">finished</a> :: st -&gt; <a href="NLP-GenI-Builder.html#t:GenStatus">GenStatus</a></dt><dd class="doc"><p>determine if realisation is finished
</p></dd><dt class="src"><a name="v:unpack" class="def">unpack</a> :: st -&gt; [<a href="NLP-GenI-Builder.html#t:Output">Output</a>]</dt><dd class="doc"><p>unpack chart results into a list of sentences
</p></dd><dt class="src"><a name="v:partial" class="def">partial</a> :: st -&gt; [<a href="NLP-GenI-Builder.html#t:Output">Output</a>]</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:GenStatus" class="def">GenStatus</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Finished" class="def">Finished</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Active" class="def">Active</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Error" class="def">Error</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:GenStatus" class="caption collapser" onclick="toggleSection('i:GenStatus')">Instances</p><div id="section.i:GenStatus" class="show"><table><tr><td class="src"><a href="NLP-GenI-Pretty.html#t:Pretty">Pretty</a> <a href="NLP-GenI-Builder.html#t:GenStatus">GenStatus</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:lexicalSelection" class="def">lexicalSelection</a> :: <a href="NLP-GenI-Builder.html#t:TagDerivation">TagDerivation</a> -&gt; [<a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</p><div class="doc"><p>The names of lexically selected chart items used in a derivation
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:FilterStatus" class="def">FilterStatus</a> a </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Filtered" class="def">Filtered</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NotFiltered" class="def">NotFiltered</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:incrCounter" class="def">incrCounter</a> ::  <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p></div><div class="top"><p class="src"><a name="v:num_iterations" class="def">num_iterations</a>, <a name="v:num_comparisons" class="def">num_comparisons</a>, <a name="v:chart_size" class="def">chart_size</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a></p></div><div class="top"><p class="src"><a name="v:-62--45--45--62-" class="def">(&gt;--&gt;)</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a> s =&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a</p><div class="doc"><p>Sequence two dispatch filters.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:SemBitMap" class="def">SemBitMap</a> = <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Map.html#t:Map">Map</a> (<a href="NLP-GenI-Semantics.html#t:Literal">Literal</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>) <a href="NLP-GenI-General.html#t:BitVector">BitVector</a></p></div><div class="top"><p class="src"><a name="v:defineSemanticBits" class="def">defineSemanticBits</a> :: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; <a href="NLP-GenI-Builder.html#t:SemBitMap">SemBitMap</a></p><div class="doc"><p>assign a bit vector value to each literal in the semantics
 the resulting map can then be used to construct a bit vector
 representation of the semantics
</p></div></div><div class="top"><p class="src"><a name="v:semToBitVector" class="def">semToBitVector</a> :: <a href="NLP-GenI-Builder.html#t:SemBitMap">SemBitMap</a> -&gt; <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; <a href="NLP-GenI-General.html#t:BitVector">BitVector</a></p></div><div class="top"><p class="src"><a name="v:bitVectorToSem" class="def">bitVectorToSem</a> :: <a href="NLP-GenI-Builder.html#t:SemBitMap">SemBitMap</a> -&gt; <a href="NLP-GenI-General.html#t:BitVector">BitVector</a> -&gt; <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:DispatchFilter" class="def">DispatchFilter</a> s a = a -&gt; s (<a href="NLP-GenI-Builder.html#t:FilterStatus">FilterStatus</a> a)</p><div class="doc"><p>Dispatching consists of assigning a chart item to the right part of the
   chart (agenda, trash, results list, etc).  This is implemented as a
   series of filters which can either fail or succeed.  If a filter fails,
   it may modify the item before passing it on to future filters.
</p></div></div><div class="top"><p class="src"><a name="v:condFilter" class="def">condFilter</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Control-Monad.html#t:Monad">Monad</a> s =&gt; (a -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a -&gt; <a href="NLP-GenI-Builder.html#t:DispatchFilter">DispatchFilter</a> s a</p><div class="doc"><p>If the item meets some condition, use the first filter, otherwise
   use the second one.
</p></div></div><div class="top"><p class="src"><a name="v:defaultStepAll" class="def">defaultStepAll</a> ::  <a href="NLP-GenI-Builder.html#t:Builder">Builder</a> st it -&gt; <a href="NLP-GenI-Builder.html#t:BuilderState">BuilderState</a> st <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Default implementation for the <code><a href="NLP-GenI-Builder.html#v:stepAll">stepAll</a></code> function in <code><a href="NLP-GenI-Builder.html#t:Builder">Builder</a></code>
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:BuilderState" class="def">BuilderState</a> s a = <a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-State-Strict.html#t:StateT">StateT</a> s (<a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-State-Strict.html#t:State">State</a> <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a>) a</p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:UninflectedDisjunction" class="def">UninflectedDisjunction</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:UninflectedDisjunction" class="def">UninflectedDisjunction</a> [<a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>] (<a href="NLP-GenI-FeatureStructure.html#t:Flist">Flist</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:UninflectedDisjunction" class="caption collapser" onclick="toggleSection('i:UninflectedDisjunction')">Instances</p><div id="section.i:UninflectedDisjunction" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Data.html#t:Data">Data</a> <a href="NLP-GenI-Builder.html#t:UninflectedDisjunction">UninflectedDisjunction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="NLP-GenI-Configuration.html#t:Typeable">Typeable</a> <a href="NLP-GenI-Builder.html#t:UninflectedDisjunction">UninflectedDisjunction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="NLP-GenI-GeniVal-Internal.html#t:DescendGeniVal">DescendGeniVal</a> <a href="NLP-GenI-Builder.html#t:UninflectedDisjunction">UninflectedDisjunction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="NLP-GenI-GeniVal-Internal.html#t:Collectable">Collectable</a> <a href="NLP-GenI-Builder.html#t:UninflectedDisjunction">UninflectedDisjunction</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="NLP-GenI-GeniVal-Internal.html#t:DescendGeniVal">DescendGeniVal</a> (<a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="NLP-GenI-Builder.html#t:UninflectedDisjunction">UninflectedDisjunction</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Input" class="def">Input</a>  </p><div class="doc"><p>To simplify interaction with the backend, we provide a single data
   structure which represents all the inputs a backend could take.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Input" class="def">Input</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:inSemInput" class="def">inSemInput</a> :: <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:inLex" class="def">inLex</a> :: [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</dt><dd class="doc"><p>for the debugger
</p></dd><dt class="src"><a name="v:inCands" class="def">inCands</a> :: [(<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>, <a href="NLP-GenI-General.html#t:BitVector">BitVector</a>)]</dt><dd class="doc"><p>tag tree
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Input" class="caption collapser" onclick="toggleSection('i:Input')">Instances</p><div id="section.i:Input" class="show"><table><tr><td class="src"><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/deepseq-1.3.0.0/Control-DeepSeq.html#t:NFData">NFData</a> <a href="NLP-GenI-Builder.html#t:Input">Input</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:unlessEmptySem" class="def">unlessEmptySem</a> ::  <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; a -&gt; a</p><div class="doc"><p>Equivalent to <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#v:id">id</a></code> unless the input contains an empty or uninstatiated
   semantics
</p></div></div><div class="top"><p class="src"><a name="v:initStats" class="def">initStats</a> :: [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Output" class="def">Output</a> = (<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Integer">Integer</a>, <a href="NLP-GenI-Morphology-Types.html#t:LemmaPlusSentence">LemmaPlusSentence</a>, <a href="NLP-GenI-Builder.html#t:TagDerivation">TagDerivation</a>)</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:SentenceAut" class="def">SentenceAut</a> = <a href="NLP-GenI-Automaton.html#t:NFA">NFA</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a> <a href="NLP-GenI-Morphology-Types.html#t:LemmaPlus">LemmaPlus</a></p><div class="doc"><p>A SentenceAut represents a set of sentences in the form of an automaton.
   The labels of the automaton are the words of the sentence.  But note!
   &#8220;word&#8220; in the sentence is in fact a tuple (lemma, inflectional feature
   structures).  Normally, the states are defined as integers, with the
   only requirement being that each one, naturally enough, is unique.
</p></div></div><div class="top"><p class="src"><a name="v:run" class="def">run</a> ::  <a href="NLP-GenI-Builder.html#t:Builder">Builder</a> st it -&gt; <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; (st, <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a>)</p><div class="doc"><p>Performs surface realisation from an input semantics and a lexical selection.
</p><p>Statistics tracked
</p><ul><li> pol_used_bundles - number of bundled paths through the polarity automaton.
                         see <code><a href="NLP-GenI-Automaton.html#v:automatonPathSets">automatonPathSets</a></code>
</li><li> pol_used_paths - number of paths through the final automaton
</li><li> pol_seed_paths - number of paths through the seed automaton (i.e. with no polarities).
                       This is normally just 1, unless you have multi-literal semantics
</li><li> pol_total_states - combined number of states in the all the polarity automata
</li><li> pol_total_tras - combined number of transitions in all polarity automata
</li><li> pol_max_states - number of states in the polarity automaton with the most states
</li><li> pol_total_tras - number of transitions in the polarity automata with the most transitions
</li><li> sem_literals    - number of literals in the input semantics
</li><li> lex_trees       - total number of lexically selected trees
</li></ul></div></div><div class="top"><p class="src"><a name="v:queryCounter" class="def">queryCounter</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a> -&gt; <a href="NLP-GenI-Statistics.html#t:Statistics">Statistics</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a></p></div><div class="top"><p class="src"><a name="v:defaultMetricNames" class="def">defaultMetricNames</a> :: [<a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-String.html#t:String">String</a>]</p></div><div class="top"><p class="src"><a name="v:preInit" class="def">preInit</a> :: <a href="NLP-GenI-Builder.html#t:Input">Input</a> -&gt; [<a href="NLP-GenI-Flag.html#t:Flag">Flag</a>] -&gt; (<a href="NLP-GenI-Builder.html#t:Input">Input</a>, <a href="NLP-GenI-Polarity.html#t:PolResult">PolResult</a>)</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>