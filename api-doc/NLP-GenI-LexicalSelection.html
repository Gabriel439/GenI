<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>NLP.GenI.LexicalSelection</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_NLP-GenI-LexicalSelection.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">GenI-0.23.20130212: A natural language generator (specifically, an FB-LTAG surface realiser)</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">NLP.GenI.LexicalSelection</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Lexical selection algorithms
</a></li><li><a href="#g:2">Selecting candidate lemmas
</a></li><li><a href="#g:3">Anchoring
</a><ul><li><a href="#g:4">Combination
</a></li><li><a href="#g:5">Enrichment
</a><ul><li><a href="#g:6"><code><a href="NLP-GenI-LexicalSelection.html#v:enrich">enrich</a></code> helpers
</a></li></ul></li><li><a href="#g:7">Lemanchor mechanism
</a></li></ul></li><li><a href="#g:8">Post-processing
</a><ul><li><a href="#g:9">Paraphrase selection
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module performs the core of lexical selection and anchoring.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:CustomSem">CustomSem</a> sem = <a href="#v:CustomSem">CustomSem</a> {<ul class="subs"><li><a href="#v:fromCustomSemInput">fromCustomSemInput</a> :: sem -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a></li><li><a href="#v:customSelector">customSelector</a> :: <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelector">LexicalSelector</a> sem</li><li><a href="#v:customSemParser">customSemParser</a> :: <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> (<a href="NLP-GenI-TestSuite.html#t:TestCase">TestCase</a> sem)</li><li><a href="#v:customSuiteParser">customSuiteParser</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> [<a href="NLP-GenI-TestSuite.html#t:TestCase">TestCase</a> sem]</li><li><a href="#v:customRenderSem">customRenderSem</a> :: sem -&gt; <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:LexicalSelector">LexicalSelector</a> sem = <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; sem -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:LexicalSelection">LexicalSelection</a>  = <a href="#v:LexicalSelection">LexicalSelection</a> {<ul class="subs"><li><a href="#v:lsAnchored">lsAnchored</a> :: [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>]</li><li><a href="#v:lsLexEntries">lsLexEntries</a> :: [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</li><li><a href="#v:lsWarnings">lsWarnings</a> :: <a href="NLP-GenI-Warning-Internal.html#t:GeniWarnings">GeniWarnings</a></li></ul>}</li><li class="src short"><a href="#v:defaultLexicalSelector">defaultLexicalSelector</a> :: <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></li><li class="src short"><a href="#v:defaultLexicalSelection">defaultLexicalSelection</a> :: <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></li><li class="src short"><a href="#v:missingLexEntries">missingLexEntries</a> :: [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</li><li class="src short"><a href="#v:defaultLexicalChoice">defaultLexicalChoice</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</li><li class="src short"><a href="#v:chooseCandI">chooseCandI</a> :: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</li><li class="src short"><a href="#v:mergeSynonyms">mergeSynonyms</a> :: [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:LexCombine">LexCombine</a> a = <a href="/Library/Haskell/ghc-7.4.1/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> (<a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-Writer-Lazy.html#t:Writer">Writer</a> [<a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a>]) a</li><li class="src short"><a href="#v:lexTell">lexTell</a> :: <a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></li><li class="src short"><a href="#v:defaultAnchoring">defaultAnchoring</a> :: <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></li><li class="src short"><a href="#v:combineList">combineList</a> :: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; ([<a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a>], [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>])</li><li class="src short"><a href="#v:combineOne">combineOne</a> :: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>]</li><li class="src short"><a href="#v:enrich">enrich</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a></li><li class="src short"><a href="#v:enrichBy">enrichBy</a> :: <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection-Types.html#t:PathEqPair">PathEqPair</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a></li><li class="src short"><a href="#v:maybeEnrichBy">maybeEnrichBy</a> :: <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection-Types.html#t:PathEqPair">PathEqPair</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a>, <a href="NLP-GenI-GeniVal-Internal.html#t:Subst">Subst</a>)</li><li class="src short"><a href="#v:enrichFeat">enrichFeat</a> :: <a href="NLP-GenI-GeniVal-Internal.html#t:MonadUnify">MonadUnify</a> m =&gt; <a href="NLP-GenI-FeatureStructure.html#t:AvPair">AvPair</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a> -&gt; <a href="NLP-GenI-FeatureStructure.html#t:Flist">Flist</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a> -&gt; m (<a href="NLP-GenI-FeatureStructure.html#t:Flist">Flist</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a>, <a href="NLP-GenI-GeniVal-Internal.html#t:Subst">Subst</a>)</li><li class="src short"><a href="#v:missingCoanchors">missingCoanchors</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; [<a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</li><li class="src short"><a href="#v:lexEquations">lexEquations</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-Writer-Lazy.html#t:Writer">Writer</a> [<a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a>] ([<a href="NLP-GenI-FeatureStructure.html#t:AvPair">AvPair</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>], [<a href="NLP-GenI-LexicalSelection-Types.html#t:PathEqPair">PathEqPair</a>])</li><li class="src short"><a href="#v:seekCoanchor">seekCoanchor</a> :: <a href="NLP-GenI-LexicalSelection-Types.html#t:NodePathEqLhs">NodePathEqLhs</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a>)</li><li class="src short"><a href="#v:matchNodeName">matchNodeName</a> :: <a href="NLP-GenI-LexicalSelection-Types.html#t:NodePathEqLhs">NodePathEqLhs</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:matchNodeNameHelper">matchNodeNameHelper</a> :: <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:setLemAnchors">setLemAnchors</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>) -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>)</li><li class="src short"><a href="#v:_lemanchor">_lemanchor</a> :: <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a></li><li class="src short"><a href="#v:setOrigin">setOrigin</a> ::  <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> v) -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> v)</li><li class="src short"><a href="#v:defaultPostProcessing">defaultPostProcessing</a> :: <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></li><li class="src short"><a href="#v:preselectParaphrases">preselectParaphrases</a> :: [<a href="NLP-GenI-Semantics.html#t:LitConstr">LitConstr</a>] -&gt; [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>] -&gt; [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>]</li><li class="src short"><a href="#v:respectsConstraints">respectsConstraints</a> :: [<a href="NLP-GenI-Semantics.html#t:LitConstr">LitConstr</a>] -&gt; <a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></li></ul></div><div id="interface"><h1 id="g:1">Lexical selection algorithms
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:CustomSem" class="def">CustomSem</a> sem </p><div class="doc"><p>This aims to support users who want to do lexical selection
   directly from an input other than GenI style flat semantics.
</p><p>The requirement here is for you to provide some means of
   converting the custom semantics to a GenI semantics
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CustomSem" class="def">CustomSem</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fromCustomSemInput" class="def">fromCustomSemInput</a> :: sem -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a></dt><dd class="doc"><p>Conversion from custom semantics to GenI semantic input
</p></dd><dt class="src"><a name="v:customSelector" class="def">customSelector</a> :: <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelector">LexicalSelector</a> sem</dt><dd class="doc"><p>Lexical selection function
</p></dd><dt class="src"><a name="v:customSemParser" class="def">customSemParser</a> :: <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> (<a href="NLP-GenI-TestSuite.html#t:TestCase">TestCase</a> sem)</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:customSuiteParser" class="def">customSuiteParser</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Either.html#t:Either">Either</a> <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> [<a href="NLP-GenI-TestSuite.html#t:TestCase">TestCase</a> sem]</dt><dd class="doc"><p>List of named inputs intended to act as a substitute for
   test suites
   (<code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:FilePath">FilePath</a></code> argument is for reporting error messages only)
</p></dd><dt class="src"><a name="v:customRenderSem" class="def">customRenderSem</a> :: sem -&gt; <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:LexicalSelector" class="def">LexicalSelector</a> sem = <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; sem -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></p><div class="doc"><p>See <code><a href="NLP-GenI.html#t:Configuration">Configuration</a></code> if you want to use GenI with a custom
   lexical selection function.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:LexicalSelection" class="def">LexicalSelection</a>  </p><div class="doc"><p>The result of the lexical selection process
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LexicalSelection" class="def">LexicalSelection</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:lsAnchored" class="def">lsAnchored</a> :: [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>]</dt><dd class="doc"><p>the main result: a set of elementary trees (ie. anchored trees)
</p></dd><dt class="src"><a name="v:lsLexEntries" class="def">lsLexEntries</a> :: [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</dt><dd class="doc"><p>if available, lexical entries that were used to produce anchored
   trees (useful for identifying anchoring failure)
</p></dd><dt class="src"><a name="v:lsWarnings" class="def">lsWarnings</a> :: <a href="NLP-GenI-Warning-Internal.html#t:GeniWarnings">GeniWarnings</a></dt><dd class="doc"><p>HINT: use <code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Monoid.html#v:mempty">mempty</a></code> to initialise to empty
</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:defaultLexicalSelector" class="def">defaultLexicalSelector</a> :: <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></p><div class="doc"><p>Performs standard GenI lexical selection as described in
   <a href="http://projects.haskell.org/GenI/manual/lexical-selection.html">http://projects.haskell.org/GenI/manual/lexical-selection.html</a>
</p><p>This is just <code><a href="NLP-GenI-LexicalSelection.html#v:defaultLexicalSelection">defaultLexicalSelection</a></code> lifted into IO
</p></div></div><div class="top"><p class="src"><a name="v:defaultLexicalSelection" class="def">defaultLexicalSelection</a> :: <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></p><div class="doc"><p>Helper for <code><a href="NLP-GenI-LexicalSelection.html#v:defaultLexicalSelector">defaultLexicalSelector</a></code>
   (Standard GenI lexical selection is actually pure)
</p><p>This is just
</p><ul><li> <code><a href="NLP-GenI-LexicalSelection.html#v:defaultLexicalChoice">defaultLexicalChoice</a></code>
</li><li> <code><a href="NLP-GenI-LexicalSelection.html#v:defaultAnchoring">defaultAnchoring</a></code>
</li><li> <code><a href="NLP-GenI-LexicalSelection.html#v:defaultPostProcessing">defaultPostProcessing</a></code>
</li></ul></div></div><div class="top"><p class="src"><a name="v:missingLexEntries" class="def">missingLexEntries</a> :: [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</p><div class="doc"><p><code>missingLexEntries ts lexs</code> returns any of the lexical candidates
   <code>lexs</code> that were apparently not anchored succesfully.
</p><p>TODO: it does this by (wrongly) checking for each lexical item
   to see if any of the anchored trees in <code>ts</code> have identical
   semantics to that lexical item.  The better way to do this would
   be to throw a subsumption check on top of items reported missing,
   because it's possible for the trees to add semantics through
   unification.
</p></div></div><h1 id="g:2">Selecting candidate lemmas
</h1><div class="top"><p class="src"><a name="v:defaultLexicalChoice" class="def">defaultLexicalChoice</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:Lexicon">Lexicon</a> -&gt; <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</p><div class="doc"><p>Select and returns the set of entries from the lexicon whose semantics
   subsumes the input semantics.
</p></div></div><div class="top"><p class="src"><a name="v:chooseCandI" class="def">chooseCandI</a> :: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</p><div class="doc"><p><code><a href="NLP-GenI-LexicalSelection.html#v:chooseCandI">chooseCandI</a></code> <code>sem l</code> attempts to unify the semantics of <code>l</code> with <code>sem</code>
   If this succeeds, we use return the result(s); if it fails, we reject
   <code>l</code> as a lexical selection candidate.
</p></div></div><div class="top"><p class="src"><a name="v:mergeSynonyms" class="def">mergeSynonyms</a> :: [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>]</p><div class="doc"><p><code><a href="NLP-GenI-LexicalSelection.html#v:mergeSynonyms">mergeSynonyms</a></code> is a factorisation technique that uses
   atomic disjunction to merge all synonyms into a single lexical
   entry.  Two lexical entries are considered synonyms if their
   semantics match and they point to the same tree families.
</p><p>FIXME: 2006-10-11 - note that this is no longer being used,
  because it breaks the case where two lexical entries differ
  only by their use of path equations.  Perhaps it's worthwhile
  just to add a check that the path equations match exactly.
</p></div></div><h1 id="g:3">Anchoring
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:LexCombine" class="def">LexCombine</a> a = <a href="/Library/Haskell/ghc-7.4.1/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Maybe.html#t:MaybeT">MaybeT</a> (<a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-Writer-Lazy.html#t:Writer">Writer</a> [<a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a>]) a</p><div class="doc"><p>The <code><a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a></code> monad supports warnings during lexical selection
   and also failure via Maybe
</p></div></div><div class="top"><p class="src"><a name="v:lexTell" class="def">lexTell</a> :: <a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Tuple.html#t:-40--41-">()</a></p><div class="doc"><p>Note an anchoring error
</p></div></div><div class="top"><p class="src"><a name="v:defaultAnchoring" class="def">defaultAnchoring</a> :: <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a> -&gt; [<a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a>] -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></p><div class="doc"><p><code>defaultAnchoring schemata lex sem</code>  implements the later half of lexical
   selection (tree anchoring and enrichement).  It assumes that <code>lex</code> consists
   just of the lexical items that have been selected, and tries to combine them
   with the tree schemata.
</p><p>This function may be useful if you are implementing your own lexical selection
   functions, and you want GenI to take over after you've given it a <code>[LexEntry]</code>
</p></div></div><h2 id="g:4">Combination
</h2><div class="top"><p class="src"><a name="v:combineList" class="def">combineList</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="NLP-GenI-TreeSchema.html#t:Macros">Macros</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; ([<a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a>], [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>])</td><td class="doc"><p>any warnings, plus the results
</p></td></tr></table></div><div class="doc"><p>Given a lexical item, looks up the tree families for that item, and
   anchor the item to the trees.
</p></div></div><div class="top"><p class="src"><a name="v:combineOne" class="def">combineOne</a> :: <a href="NLP-GenI-Semantics.html#t:Sem">Sem</a> -&gt; <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>]</p><div class="doc"><p>Combine a single tree with its lexical item to form a bonafide TagElem.
   This process can fail, however, because of filtering or enrichement
</p></div></div><h2 id="g:5">Enrichment
</h2><div class="top"><p class="src"><a name="v:enrich" class="def">enrich</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a></p><div class="doc"><p>See <a href="http://projects.haskell.org/manual/lexical-selection">http://projects.haskell.org/manual/lexical-selection</a>
   on enrichement
</p></div></div><h3 id="g:6"><code><a href="NLP-GenI-LexicalSelection.html#v:enrich">enrich</a></code> helpers
</h3><div class="top"><p class="src"><a name="v:enrichBy" class="def">enrichBy</a> :: <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection-Types.html#t:PathEqPair">PathEqPair</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexCombine">LexCombine</a> <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a></p><div class="doc"><p>Helper for <code><a href="NLP-GenI-LexicalSelection.html#v:enrich">enrich</a></code> (enrich by single path equation)
</p></div></div><div class="top"><p class="src"><a name="v:maybeEnrichBy" class="def">maybeEnrichBy</a> :: <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="NLP-GenI-LexicalSelection-Types.html#t:PathEqPair">PathEqPair</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a>, <a href="NLP-GenI-GeniVal-Internal.html#t:Subst">Subst</a>)</p><div class="doc"><p>Helper for <code><a href="NLP-GenI-LexicalSelection.html#v:enrichBy">enrichBy</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:enrichFeat" class="def">enrichFeat</a> :: <a href="NLP-GenI-GeniVal-Internal.html#t:MonadUnify">MonadUnify</a> m =&gt; <a href="NLP-GenI-FeatureStructure.html#t:AvPair">AvPair</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a> -&gt; <a href="NLP-GenI-FeatureStructure.html#t:Flist">Flist</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a> -&gt; m (<a href="NLP-GenI-FeatureStructure.html#t:Flist">Flist</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a>, <a href="NLP-GenI-GeniVal-Internal.html#t:Subst">Subst</a>)</p><div class="doc"><p><code>enrichFeat av fs</code> attempts to unify <code>av</code> with <code>fs</code>
</p><p>Note here that <code>fs</code> is an <code>Flist [GeniVal]</code> rather than the usual
   <code>Flist GeniVal</code> you may expect.  This is because it comes from
   <code><a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a></code> which allows non-atomic disjunctions of <code>GeniVal</code>
   which have to be flatten down to at most atomic disjunctions once
   lexical selection is complete.
</p></div></div><div class="top"><p class="src"><a name="v:missingCoanchors" class="def">missingCoanchors</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; [<a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</p><div class="doc"><p><code>missingCoanchors l t</code> returns the list of coanchor node names from <code>l</code>
   that were not found in <code>t</code>
</p></div></div><div class="top"><p class="src"><a name="v:lexEquations" class="def">lexEquations</a> :: <a href="NLP-GenI-Lexicon-Internal.html#t:LexEntry">LexEntry</a> -&gt; <a href="/Library/Haskell/ghc-7.4.1/lib/mtl-2.1.1/doc/html/Control-Monad-Writer-Lazy.html#t:Writer">Writer</a> [<a href="NLP-GenI-LexicalSelection-Types.html#t:LexCombineError">LexCombineError</a>] ([<a href="NLP-GenI-FeatureStructure.html#t:AvPair">AvPair</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>], [<a href="NLP-GenI-LexicalSelection-Types.html#t:PathEqPair">PathEqPair</a>])</p><div class="doc"><p>Split a lex entry's path equations into interface enrichement equations
   or (co-)anchor modifiers
</p></div></div><div class="top"><p class="src"><a name="v:seekCoanchor" class="def">seekCoanchor</a> :: <a href="NLP-GenI-LexicalSelection-Types.html#t:NodePathEqLhs">NodePathEqLhs</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:SchemaTree">SchemaTree</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a>)</p><div class="doc"><p><code>seekCoanchor lhs t</code> returns <code>Just node</code> if <code>t</code> contains exactly one
   node that can be identified by <code>lhs</code>, <code>Nothing</code> if it contains none.
</p><p>It crashes if there is more than one such node, because this should
   have been caught earlier by GenI.
</p></div></div><div class="top"><p class="src"><a name="v:matchNodeName" class="def">matchNodeName</a> :: <a href="NLP-GenI-LexicalSelection-Types.html#t:NodePathEqLhs">NodePathEqLhs</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p><code>matchNodeName lhs n</code> is <code>True</code> if the <code>lhs</code> refers to the node <code>n</code>
</p></div></div><div class="top"><p class="src"><a name="v:matchNodeNameHelper" class="def">matchNodeNameHelper</a> :: <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:SchemaVal">SchemaVal</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p><code>matchNodeNameHelper</code> recognises &#8220;anchor&#8220; by convention; otherwise,
   it does a name match
</p></div></div><h2 id="g:7">Lemanchor mechanism
</h2><div class="top"><p class="src"><a name="v:setLemAnchors" class="def">setLemAnchors</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>) -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> <a href="NLP-GenI-GeniVal-Internal.html#t:GeniVal">GeniVal</a>)</p><div class="doc"><p>The lemanchor mechanism is described in
   <a href="http://projects.haskell.org/manual/lexical-selection">http://projects.haskell.org/manual/lexical-selection</a>
</p></div></div><div class="top"><p class="src"><a name="v:_lemanchor" class="def">_lemanchor</a> :: <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a></p><div class="doc"><p>The name of the lemanchor attribute (by convention; see source)
</p></div></div><div class="top"><p class="src"><a name="v:setOrigin" class="def">setOrigin</a> ::  <a href="/Library/Haskell/ghc-7.4.1/lib/text-0.11.2.0/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> v) -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/containers-0.4.2.1/Data-Tree.html#t:Tree">Tree</a> (<a href="NLP-GenI-TreeSchema.html#t:GNode">GNode</a> v)</p><div class="doc"><p><code>setOrigin n t</code> marks the nodes in <code>t</code> as having come from
   a tree named <code>n</code>
</p></div></div><h1 id="g:8">Post-processing
</h1><div class="top"><p class="src"><a name="v:defaultPostProcessing" class="def">defaultPostProcessing</a> :: <a href="NLP-GenI-Semantics.html#t:SemInput">SemInput</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a> -&gt; <a href="NLP-GenI-LexicalSelection.html#t:LexicalSelection">LexicalSelection</a></p><div class="doc"><p>Standard post-processing/filtering steps that can take place
   after lexical selection.  Right now, this only consists of
   paraphrase selection
</p></div></div><h2 id="g:9">Paraphrase selection
</h2><div class="top"><p class="src"><a name="v:preselectParaphrases" class="def">preselectParaphrases</a> :: [<a href="NLP-GenI-Semantics.html#t:LitConstr">LitConstr</a>] -&gt; [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>] -&gt; [<a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a>]</p><div class="doc"><p>Rule out lexical selection results that violate trace constraints
</p></div></div><div class="top"><p class="src"><a name="v:respectsConstraints" class="def">respectsConstraints</a> :: [<a href="NLP-GenI-Semantics.html#t:LitConstr">LitConstr</a>] -&gt; <a href="NLP-GenI-Tag.html#t:TagElem">TagElem</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p><code><a href="/Library/Frameworks/GHC.framework/Versions/7.4.1-x86_64/usr/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Bool.html#v:True">True</a></code> if the tree fulfills the supplied trace constraints
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>